#import "_Domain.h"

@interface SnaTargetingRange()

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// Internal Constructor
//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

- (id) _init;

@end
@implementation SnaTargetingRange

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// Properties
//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

- (NSInteger  ) radiusInMeters              { @throw [FxException unsupportedMethodException]; }
- (NSString  *) radiusInMetersAsString      { @throw [FxException unsupportedMethodException]; }

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// Constructors
//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

- (id) init
{
    @throw [FxException unsupportedMethodException];
}
- (id) _init
{
    self = [super init];
    
    [FxAssert isNotNullValue:self];
    
    return self;
}

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// Infrastructure
//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

- (NSString *) description
{
    return [FxDumper dumpValue:self];
}
- (NSArray *) dumpFields
{
    return [NSArray arrayWithObjects:
            
            [FxDumper dumpFieldWithName:@"radiusInMetersAsString"      value  :self.radiusInMetersAsString    ],
            nil
            ];
}
- (id) copyWithZone:(NSZone *)zone
{
    if ([self class] != [SnaImmutableTargetingRange class] || (zone != nil && self.zone != zone))
    {
        return [[SnaImmutableTargetingRange allocWithZone:zone] initWithRadiusInMeters:self.radiusInMeters];
    }
    else
    {
        return [self retain];
    }
}

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

@end
@implementation SnaImmutableTargetingRange

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// Properties
//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

- (NSInteger  ) radiusInMeters       { return _radiusInMeters     ; }

- (NSString  *) radiusInMetersAsString       { return [NSString stringWithFormat:@"%d m", self.radiusInMeters]; }


//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// Constructors
//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

- (id) initWithRadiusInMeters:(NSInteger  )radiusInMeters
{
    self = [super _init];
    
    [FxAssert isNotNullValue:self];
    
    _radiusInMeters      = radiusInMeters;
    
    return self;
}

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// Infrastructure
//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

- (void) dealloc
{
	[super dealloc];
}

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

@end
